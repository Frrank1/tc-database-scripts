select c1.coder_id as user_id
     , c1.handle
     , ra1.rating
--     , rr1.new_rating
  from coder c1
--     , room_result rr1
--     , round r1
     , rating ra1
  where ra1.coder_id = c1.coder_id
--    and r1.round_id = rr1.round_id
--    and rr1.coder_id = c1.coder_id
    and c1.coder_id in (272072,144400,152073,260835,152347,269554,262936,287496,277659,
311170,305142,274023,114853,286907,120816,157974,7311097,2058672,155275,287568,287266,345049,
260987,288584,129672,287105,264869,275071,287979,251074,273217,287269,307638,113178,281028,261024,
158658,107835,274498,278342,269788,158837,112902,286911,279471,252076,299709,158333,284007,263396,
156804,261567,156592,154089,105922,308453,299177,265736,7281980,263379,273112,154754,267834,
289706,152340,266571,114443,297823,251223,308657,310333,346064,309786,265545,7390224,310430,
287864,299706,159166,108262,111202,7398059,307070,108530,7210680,304031,2059666,260828,286022,
307169,152614,283388,289251,7428266,159495,159100,296745,269678,7264865,293874)
--taking this stuff out.  the front end isn't using their "new_rating" and that is the only reason
--to have all this, to get their most recent round's new rating or something
--    and c1.coder_id||'-'||r1.calendar_id in (
--                 select c.coder_id||'-'||max(cal.calendar_id)
--                   from calendar cal
--                      , room_result rr
--                      , round r
--                      , coder c
--                      , rating ra
--                  where rr.round_id = r.round_id
--                    and r.calendar_id = cal.calendar_id
--                    and rr.coder_id = c.coder_id
--                    and ra.coder_id = c.coder_id
--                    and c.status = 'A'
--                    and c.coder_id in (272072,144400,152073,260835,152347,269554,262936,287496,277659,
--311170,305142,274023,114853,286907,120816,157974,7311097,2058672,155275,287568,287266,345049,
--260987,288584,129672,287105,264869,275071,287979,251074,273217,287269,307638,113178,281028,261024,
--158658,107835,274498,278342,269788,158837,112902,286911,279471,252076,299709,158333,284007,263396,
--156804,261567,156592,154089,105922,308453,299177,265736,7281980,263379,273112,154754,267834,
--289706,152340,266571,114443,297823,251223,308657,310333,346064,309786,265545,7390224,310430,
--287864,299706,159166,108262,111202,7398059,307070,108530,7210680,304031,2059666,260828,286022,
--307169,152614,283388,289251,7428266,159495,159100,296745,269678,7264865,293874)
--                  group by c.coder_id)
--order by rr1.new_rating desc
order by ra1.rating desc